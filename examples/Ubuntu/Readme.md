# 	Ubuntu例程

本文档介绍了如何在Ubuntu环境中读取Hi229/226 的数据，本路径提供了c语言例程代码，生成的可执行文件用于读取模块的数据。

测试环境： Ubuntu 16.04

## 查找USB-UART设备

​	因为Ubuntu 系统自带CP210x的驱动，所以我们不用专门去安装相应串口驱动。将调试版连接到电脑上时，会自动识别设备。识别成功后，会在dev目录下出现一个对应的设备文件。

​	检查系统是否识别到USB-UART设备：

​	1、打开ubuntu系统，按下 ctrl + alt + t 打开命令行窗口

​	2、在窗口上输入 `cd /dev`  切换到dev目录下，这个目录下，是一些设备文件。

​	3、然后在dev目录下执行`ls` 这个命令是查看当前目录下都有哪些文件，然后按下 Enter 键，就会出现设备文件名称，在这些文件名称中，我们主要关心**ttyUSB**这个设备文件。后面数字代表USB设备号，由于ubuntu USB设备号为从零开始依次累加，所以多个设备每次开机后设备号是不固定的，我们需要确定设备的设备号。下面我用两张图片来描述

![](.\img\1.png)

上图为没有插入USB设备的情况，这个时候，dev目录下并没有名为__ttyUSB__文件，插入USB线，连接调试板，然后我们再次执行`ls`：

dev目录下多了几个文件名称, 如图：

![](.\img\2.jpg)

**ttyUSB0**文件就是我们的调试版在ubuntu系统中生成的设备文件，对它进行读写，就可以完成串口通信。这个文件名称我们把它记下来。后面的数字可能不固定，有可能为**ttyUSB1** 或 **ttyUSB2** 等。

## 编译并执行

我们开始在Ubuntu环境下生成一个可执行文件，专门用来解析模块的数据：

首先在Ubuntu系统中，按下 __ctrl + alt + t__ 快捷键，在弹出的窗口上，执行`mkdir hipnuc` 建立hipunc目录,然后将本文档所在目录下的所有文件复制到hipnuc目录下。

执行`make`, 生成可自行文件`main`。 并执行`sudo ./main ttyUSB0`:

 执行成功后，会出现这个画面：

![](.\img\3.png)

这个画面上的数字会随着模块位置的改变而发生变化。

如果出现：

![](.\img\4 (2).png)

表示未能找到串口，需要回到**《查找USB-UART设备》一节**确认USB-UART设备已经被ubuntu识别。